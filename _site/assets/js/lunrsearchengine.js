
var documents = [{
    "id": 0,
    "url": "http://localhost:4000/404.html",
    "title": "404",
    "body": "404 Page does not exist!Please use the search bar at the top or visit our homepage! "
    }, {
    "id": 1,
    "url": "http://localhost:4000/about",
    "title": "About",
    "body": "The backbone trail is a trail that runs across 67 miles across the Santa Monica mountains. Backbone tours provides guided adventures in and around the backbone trail in Malibu, Ca. Backbone Trail Map "
    }, {
    "id": 2,
    "url": "http://localhost:4000/categories",
    "title": "Categories",
    "body": ""
    }, {
    "id": 3,
    "url": "http://localhost:4000/",
    "title": "Home",
    "body": "      Featured:                                                                                                                                                                                                           Point mugu Peak Hike                                                 1 2 3 4 5                                              :               :                                                                                                                                                                       ktenzer                                27 May 2021                                                                                                                                        All Tours:                                                                                                     Point mugu Ocean Vista Hike                         1 2 3 4 5                      :       :                                                                               ktenzer                07 May 2021                                                                                                                                     Mash Movie Hike                         1 2 3 4 5                      :       :                                                                               ktenzer                20 Apr 2021                                                                                                                                     Sandstone Peak Hike                         1 2 3 4 5                      :       :                                                                               ktenzer                12 Apr 2021                                            "
    }, {
    "id": 4,
    "url": "http://localhost:4000/robots.txt",
    "title": "",
    "body": "      Sitemap: {{ “sitemap. xml”   absolute_url }}   "
    }, {
    "id": 5,
    "url": "http://localhost:4000/pt_magu_peak_hike/",
    "title": "Point mugu Peak Hike",
    "body": "2021/05/27 -  Located in the point mugu state park, this is an out and back with a loop around the majestic point mugu peak. Towering 1,266 ft above the pacific point mugu peak offers panoramic views of the coastline and channel islands. On a clear day you can see Catalina, San Nicholas, Anacapa and Santa Cruz islands. Point mugu peak is so close to the coastline you feel like you are flying above the ocean, it is truly an amazing out of body experience. The hike starts at a dirt parking lot and the trail is called the chumash trail. The trail has a very steep ascend, if you aren’t used to hiking you will want to go slow and take a lot of breaks. I would also avoid this hike on a hot day, there is no shade. As you ascend don’t forget to turn around you will be treated with a great view ocean view, the mugu wetlands and in the distance channel islands (on a clear day). After about 45 minutes you will reach the base of point mugu peak and a fork in the road. Go to your left and a few hundred feet down road go right and take the single track switch back up point mugu peak. Once you make it up the first part your are almost there and in the home stretch. From here you have an amazing view of point mugu in the distance.  If you come during spring you can see the cactus flowers bluming. Finally it is time to celebrate and enjoy a snack with quite a spectacular view. The peak is very flat and to the right is a nice little bench. North view on to anacapa, santa cruz islands and point mugu. South view of sandy dunes in the distance. East view of sandstone peak Once you are ready to head back continue on the trail south.  After 5-10 minutes you get to another fork, go to your right. You will soon pass by what I think is the best view. A smal trail to the left goes to an amazing lookout by some rocks. After joining back with main trail you will continue to traverse, I find this part the most amazing as you are looking out over the ocean the entire time. After another 15-20 minutes on the trail you will make it back to the first fork, continue left down to the parking lot. 1234Activity: HikingDuration: 3 hoursDifficulty: HardBring: Hiking boots, hat, water and snacks"
    }, {
    "id": 6,
    "url": "http://localhost:4000/pt_magu_ocean_vista_hike/",
    "title": "Point mugu Ocean Vista Hike",
    "body": "2021/05/07 -  Located in the point mugu state park, this magnificent hike offers breathtaking ocean vista views in one of the most scenic areas and less frequented areas in all of southern california. Traversing the backbone trail you will assend with terrif views of Pt. mugu peak and the coastline. Park in La Jolla Canyon, day parking area. Follow the road into the canyon and look for the sign to ray miller trailhead. Take the ray miller trail heading south (to the right). The trail will ascend to the ridgeline. Behind you is point mugu peak. Pt. mugu peak After 45 minutes you should reach a fork go right at the overlook trail. 15 minutes later you will reach another fork this will be our loop. Take fireline trail. This will descend into the canyon and eventually reach sycamore canyon, go right all the way to the sycamore canyon beach. Sycamore Cove Beach Hopefully you brought some beacj wear to enjoy the refreshing pacific and a nice lunch! Head back up sycamore canyon but this time hang left on the scenic trail. Vista overlooking the Backbone trail You will see magnificient costal views, pt. mugu rock, the sandy dunes and a glimpse of sandstone peak. At 3,111 ft this is the highest peak in the Santa Monica mountains. Pt. mugu Rock Sandy Dunes Sandstone Peak The scenic trail will work stay to your left on the overlook trail. This will take you back to the end of the loop at the fireline trail. This time go left staying on the overlook trail. Again you will reach a fork, take a left on to the backbone trail which takes you back top the ray miller trailhead. 1234Activity: HikingDuration: 6 hoursDifficulty: ModerateBring: Hiking boots, beach wear, water and snacks"
    }, {
    "id": 7,
    "url": "http://localhost:4000/mash-movie-hike/",
    "title": "Mash Movie Hike",
    "body": "2021/04/20 -  Located in malibu creek state park this hike takes you back to the glory days of hollywood. Countless movies and TV series were filmed in the park such as planet of the apes, the original tarzan and of course mash. This hike starts at grasslands trailhead on mullholland hwy where it meets malibu canyon. You can park on the side of the road on mullholland hwy. This is a very easy hike which is mostly flat. It is an out and back. Once on the trail you will get to a small hill that heads to the right. At the top of the hill 10 minutes from trailhead the trail will fork, take the middle trail which goes down into the main park area. You should see the beuatiful malibu creek in front of you. As you go down look to your right at a truly awe inspiring california oak. The hillside to the left on the other side of the creek is where planet of the apes was filmed by the rocky areas.  Once you reach the bottom you will join Crags road, go to your right. After another 10-15 minutes you will reach the main area and another fork, continue on Crags rd to your right which will go up a small incline. After another 10-15 minutes you will reach century dam. At the top of the incline you will see a small path going to your left which goes down to century dam. This is a great spot for a quick snack and to admire the tranqulity. Continue down the path which after 5 minutes will meet up with crags road. Conitnue down crags road and in about 20 minutes you will need to cross the malibu creek. There is a large log that you need to balance across. It is possible to fall into the creek (don’t worry it is shallow) but bring a towel and some extra socks. After crossing the creek you are almost there, it should be another 20 minutes to the mash site. The first vehicle is a replica which was recently added. A little further is the main area. There are picnic benches and of course an original mash jeep as well as a medic.  If you go during spring you will see lots of California poppy’s and other wild flowers blooming everywhere. On your way back once passed century dam and down the incline go straight. This will take you to the park visitor center. This property used to be owned by paramont studios and was used for lodging as well as entertaining. Even Mariyln Monroe stayed there so it is definitely worth checking out! 1234Activity: HikingDuration: 3 hoursDifficulty: EasyBring: Hiking boots, towel, extra socks, water and snacks"
    }, {
    "id": 8,
    "url": "http://localhost:4000/sandstone-peak/",
    "title": "Sandstone Peak Hike",
    "body": "2021/04/12 -  1234Activity: HikingDuration: 3 hoursDifficulty: EasyBring: Hiking boots, towel, extra socks, water and snacks"
    }];

var idx = lunr(function () {
    this.ref('id')
    this.field('title')
    this.field('body')

    documents.forEach(function (doc) {
        this.add(doc)
    }, this)
});
function lunr_search(term) {
    document.getElementById('lunrsearchresults').innerHTML = '<ul></ul>';
    if(term) {
        document.getElementById('lunrsearchresults').innerHTML = "<p>Search results for '" + term + "'</p>" + document.getElementById('lunrsearchresults').innerHTML;
        //put results on the screen.
        var results = idx.search(term);
        if(results.length>0){
            //console.log(idx.search(term));
            //if results
            for (var i = 0; i < results.length; i++) {
                // more statements
                var ref = results[i]['ref'];
                var url = documents[ref]['url'];
                var title = documents[ref]['title'];
                var body = documents[ref]['body'].substring(0,160)+'...';
                document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML + "<li class='lunrsearchresult'><a href='" + url + "'><span class='title'>" + title + "</span><br /><span class='body'>"+ body +"</span><br /><span class='url'>"+ url +"</span></a></li>";
            }
        } else {
            document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = "<li class='lunrsearchresult'>No results found...</li>";
        }
    }
    return false;
}

function lunr_search(term) {
    $('#lunrsearchresults').show( 400 );
    $( "body" ).addClass( "modal-open" );
    
    document.getElementById('lunrsearchresults').innerHTML = '<div id="resultsmodal" class="modal fade show d-block"  tabindex="-1" role="dialog" aria-labelledby="resultsmodal"> <div class="modal-dialog shadow-lg" role="document"> <div class="modal-content"> <div class="modal-header" id="modtit"> <button type="button" class="close" id="btnx" data-dismiss="modal" aria-label="Close"> &times; </button> </div> <div class="modal-body"> <ul class="mb-0"> </ul>    </div> <div class="modal-footer"><button id="btnx" type="button" class="btn btn-danger btn-sm" data-dismiss="modal">Close</button></div></div> </div></div>';
    if(term) {
        document.getElementById('modtit').innerHTML = "<h5 class='modal-title'>Search results for '" + term + "'</h5>" + document.getElementById('modtit').innerHTML;
        //put results on the screen.
        var results = idx.search(term);
        if(results.length>0){
            //console.log(idx.search(term));
            //if results
            for (var i = 0; i < results.length; i++) {
                // more statements
                var ref = results[i]['ref'];
                var url = documents[ref]['url'];
                var title = documents[ref]['title'];
                var body = documents[ref]['body'].substring(0,160)+'...';
                document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML + "<li class='lunrsearchresult'><a href='" + url + "'><span class='title'>" + title + "</span><br /><small><span class='body'>"+ body +"</span><br /><span class='url'>"+ url +"</span></small></a></li>";
            }
        } else {
            document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = "<li class='lunrsearchresult'>Sorry, no results found. Close & try a different search!</li>";
        }
    }
    return false;
}
    
$(function() {
    $("#lunrsearchresults").on('click', '#btnx', function () {
        $('#lunrsearchresults').hide( 5 );
        $( "body" ).removeClass( "modal-open" );
    });
});